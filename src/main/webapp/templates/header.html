<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<div th:fragment="copy" class="page-header">
    <div>
        <a class="header-image-link" href="/"><img id="header-image" src="/static/img/crappy.png"></a>
    </div>
    <h1 class="page-title">Codecool Shop</h1>
    <div class="dropdown show dropdown-user-icon">
        <img class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"
             id="user-icon" src="/static/img/user_icon.png">
        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
            <a th:if="${session.get('user') != null}" class="dropdown-item" href="/logout">Logout</a>
            <a th:if="${session.get('user') != null}" class="dropdown-item"
               th:href="@{/myprofile(id=${session.user.getId()})}">My Profile</a>
            <a th:if="${session.get('user') != null}" class="dropdown-item"
               th:href="@{/myorder(id=${session.user.getId()})}">My Orders</a>

            <a th:if="${session.get('user') == null}" class="dropdown-item" href="/login">Login</a>
            <a th:if="${session.get('user') == null}" class="dropdown-item" href="/register">Register</a>
        </div>
    </div>
    <div class="shopping-cart">
        <a href="#" id="shopping-cart">
            <span class="notify-badge" th:value="${cartQuantity}" th:text="${cartQuantity}"></span>
            <img data-toggle="modal" data-target="#modal" class="shopping-cart-img" src="/static/img/pngegg.png">
        </a>
    </div>
    <div id="logged-in" th:if="${session.get('user') != null}">
        <p th:text="${'Welcome back ' + session.user.getName()} + '!'"></p>
    </div>
</div>
